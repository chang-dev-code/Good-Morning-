<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Gift Spin ‚Üí Good Morning</title>
  <style>
    :root{
      --bg:#0b1020;
      --card:#ffffff10;
      --text:#f6f7fb;
      --muted:#d9dcff;
    }
    *{box-sizing:border-box}
    body{
      margin:0; min-height:100vh; overflow:hidden;
      display:grid; place-items:center;
      font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
      background:
        radial-gradient(900px 500px at 15% 15%, #4f46e5 0%, transparent 55%),
        radial-gradient(900px 500px at 85% 20%, #22c55e 0%, transparent 55%),
        linear-gradient(135deg, #070b16, var(--bg));
      color:var(--text);
    }

    .hint{
      position:fixed; top:14px; left:50%; transform:translateX(-50%);
      padding:10px 14px;
      border:1px solid #ffffff22;
      border-radius:999px;
      background:#00000033;
      backdrop-filter: blur(10px);
      font-size:14px;
      color:var(--muted);
      text-align:center;
      user-select:none;
    }

    .stage{
      position:relative;
      width:min(980px, 92vw);
      height:460px;
      border-radius:26px;
      border:1px solid #ffffff1a;
      background: var(--card);
      backdrop-filter: blur(10px);
      box-shadow: 0 24px 70px #00000055;
      overflow:hidden;
      display:grid;
      place-items:center;
    }

    /* Confetti layer */
    .confetti{
      position:absolute; inset:0;
      pointer-events:none;
      overflow:hidden;
    }
    .c{
      position:absolute;
      top:-12px;
      width:10px; height:14px;
      border-radius:3px;
      opacity:.95;
      animation: fall linear forwards;
    }
    @keyframes fall{
      to{ transform: translateY(110vh) rotate(720deg); }
    }

    /* Gift container - spins */
    .runner{
      width:240px; height:240px;
      display:grid; place-items:center;
      cursor:pointer;
      user-select:none;
      outline:none;
      animation: spin 1.7s linear infinite;
      will-change: transform;
    }
    @keyframes spin{
      to{ transform: rotate(360deg); }
    }

    /* When opened: stop spinning */
    .opened .runner{
      animation-play-state: paused;
    }

    /* Gift drawing */
    .gift{
      position:relative;
      width:180px; height:180px;
      display:grid; place-items:center;
      transform: rotate(-8deg); /* make it cute while spinning */
    }

    .glow{
      position:absolute; left:50%; top:42%;
      width:260px; height:260px;
      transform:translate(-50%,-50%);
      background: radial-gradient(circle at 50% 50%, #ffffffaa 0%, #ffd16655 25%, transparent 60%);
      filter: blur(2px);
      opacity:0;
      transition: opacity 450ms ease;
      pointer-events:none;
    }
    .opened .glow{ opacity:1; }

    .box{
      position:absolute;
      left:50%; bottom:18px;
      transform:translateX(-50%);
      width:160px; height:120px;
      border-radius:18px;
      background: linear-gradient(180deg, #ff4d6d, #d61f4b);
      box-shadow: 0 18px 38px #00000055;
    }
    .box:before{
      content:"";
      position:absolute; left:50%; top:0; bottom:0;
      width:22px; transform:translateX(-50%);
      background: linear-gradient(180deg, #ffd166, #f59e0b);
      border-radius:12px;
      opacity:.95;
    }
    .box:after{
      content:"";
      position:absolute; left:0; right:0; top:48px;
      height:18px;
      background: #ffffff12;
      border-radius:999px;
    }

    .lid{
      position:absolute;
      left:50%; top:36px;
      width:178px; height:56px;
      transform: translateX(-50%);
      transform-origin: 20% 90%;
      border-radius:18px;
      background: linear-gradient(180deg, #ff6b85, #e11d48);
      box-shadow: 0 12px 24px #00000040;
      transition: transform 700ms cubic-bezier(.2,.9,.2,1);
      z-index:3;
    }
    .lid:before{
      content:"";
      position:absolute; left:50%; top:0; bottom:0;
      width:22px; transform:translateX(-50%);
      background: linear-gradient(180deg, #ffe08a, #f59e0b);
      border-radius:12px;
      opacity:.95;
    }

    .bow{
      position:absolute;
      left:50%; top:8px;
      width:110px; height:70px;
      transform:translateX(-50%);
      pointer-events:none;
      z-index:4;
    }
    .bow .loop{
      position:absolute; top:18px;
      width:52px; height:34px;
      border:10px solid #ffd166;
      border-radius:999px;
      filter: drop-shadow(0 6px 10px #00000033);
      background:transparent;
    }
    .bow .loop.left{ left:0; transform: rotate(-10deg); }
    .bow .loop.right{ right:0; transform: rotate(10deg); }
    .bow .knot{
      position:absolute; left:50%; top:30px;
      width:22px; height:22px;
      transform:translateX(-50%);
      background:#f59e0b;
      border-radius:8px;
      box-shadow: 0 6px 12px #00000033;
    }

    /* Open lid */
    .opened .lid{
      transform: translateX(-50%) rotate(-125deg) translateY(-10px);
    }

    /* Message pop */
    .message{
      position:absolute;
      left:50%; top:50%;
      transform: translate(-50%,-50%) scale(.85);
      width:min(760px, 90vw);
      text-align:center;
      opacity:0;
      pointer-events:none;
      transition: opacity 450ms ease, transform 450ms ease;
    }
    .message h1{
      margin:0 0 10px;
      font-size: clamp(34px, 6vw, 70px);
      letter-spacing: 2px;
      text-shadow: 0 18px 40px #00000066;
    }
    .message p{
      margin:0;
      color:var(--muted);
      font-size: clamp(14px, 2.3vw, 18px);
    }
    .opened .message{
      opacity:1;
      transform: translate(-50%,-50%) scale(1);
    }

    /* Focus ring */
    .runner:focus{
      outline: 3px solid #ffffff55;
      outline-offset: 10px;
      border-radius: 26px;
    }
  </style>
</head>

<body>
  <div class="hint">H·ªôp qu√† ƒëang xoay üéÅ ‚Äî b·∫•m v√†o (ho·∫∑c Space/Enter) ƒë·ªÉ m·ªü ra ‚ÄúGOOD MORNING‚Äù</div>

  <div class="stage" id="stage">
    <div class="confetti" id="confetti"></div>

    <div class="runner" id="runner" role="button" tabindex="0" aria-label="Open gift">
      <div class="gift">
        <div class="glow"></div>

        <div class="box"></div>
        <div class="lid"></div>

        <div class="bow">
          <div class="loop left"></div>
          <div class="loop right"></div>
          <div class="knot"></div>
        </div>
      </div>
    </div>

    <div class="message">
      <h1>GOOD MORNING ‚òÄÔ∏è</h1>
      <p>Ch√∫c b·∫°n m·ªôt ng√†y m·ªõi vui v·∫ª, nhi·ªÅu nƒÉng l∆∞·ª£ng v√† may m·∫Øn!</p>
    </div>
  </div>

  <script>
    const stage = document.getElementById("stage");
    const runner = document.getElementById("runner");
    const confetti = document.getElementById("confetti");

    let opened = false;

    function blastConfetti(){
      confetti.innerHTML = "";
      const n = 160;
      for(let i=0;i<n;i++){
        const d = document.createElement("div");
        d.className = "c";
        const left = Math.random()*100;
        const delay = Math.random()*0.25;
        const dur = 2.2 + Math.random()*1.8;
        const size = 6 + Math.random()*10;

        d.style.left = left + "vw";
        d.style.animationDelay = delay + "s";
        d.style.animationDuration = dur + "s";
        d.style.width = size + "px";
        d.style.height = (size*1.2) + "px";
        d.style.background = `hsl(${Math.random()*360}, 90%, 60%)`;
        d.style.transform = `rotate(${Math.random()*180}deg)`;
        confetti.appendChild(d);
      }
      setTimeout(()=> confetti.innerHTML = "", 4500);
    }

    function openGift(){
      if(opened) return;
      opened = true;

      stage.classList.add("opened"); // stops spinning + opens lid + shows message
      blastConfetti();

      // tiny bounce
      runner.animate(
        [{ transform: "scale(1)" }, { transform: "scale(1.06)" }, { transform: "scale(1)" }],
        { duration: 380, easing: "cubic-bezier(.2,.8,.2,1)" }
      );
    }

    runner.addEventListener("click", openGift);
    runner.addEventListener("keydown", (e) => {
      if(e.key === " " || e.key === "Enter"){
        e.preventDefault();
        openGift();
      }
    });
  </script>
</body>
</html>
<audio id="bgm" preload="auto" loop>
  <source src="music.mp3" type="audio/mpeg">
</audio>
